<!DOCTYPE html>
<html lang="en">
<head>
    <title>Personel Talep Formu</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        form { width: 60%; margin: auto; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; }
        button { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
    </style>
    <script>
        function toggleFields() {

            // Talep Türü kontrolü
            var taskType = document.getElementById('id_position_type_2').value;
            document.getElementById('replacement_for_field').style.display = (taskType === 'Mevcut Kadro') ? 'block' : 'none';
            document.getElementById('request_reason_field').style.display = (taskType === 'İlave Kadro') ? 'block' : 'none';
        }

        window.onload = toggleFields;
    </script>
</head>
<body>
    <h1>Personel Talep Formu</h1>
    <form method="POST">
        {% csrf_token %}

        <!-- Lokasyon ve Organizasyon -->
        <label for="id_location">Lokasyon:</label>
        {{ form.location }}

        <label for="id_organization">Organizasyon:</label>
        {{ form.organization }}

        <label for="id_position_type">Pozisyon:</label>
        {{ form.position_type }}

        <!-- Yeni Görev Adı -->
        <div id="new_task_name_field" style="display:none;">
            <label for="id_new_task_name">Yeni Görev Adı:</label>
            {{ form.new_task_name }}
        </div>

        <!-- Talep Türü Dropdown -->
        <label for="id_position_type_2">Talep Türü:</label>
        <select id="id_position_type_2" name="position_type_2" onchange="toggleFields()">
            <option value="">Talep Türü Seçin</option>
            <option value="Mevcut Kadro">Mevcut Kadro</option>
            <option value="İlave Kadro">İlave Kadro</option>
        </select>

        <!-- Dinamik Alanlar -->
        <div id="replacement_for_field" style="display:none;">
            <label for="id_replacement_for">Kimin Yerine:</label>
            <input type="text" name="replacement_for" id="id_replacement_for">
        </div>

        <div id="request_reason_field" style="display:none;">
            <label for="id_request_reason">Talep Nedeni:</label>
            <textarea name="request_reason" id="id_request_reason"></textarea>
        </div>

        <!-- Statik Sorular -->
        <label for="id_work_type">Çalışma Türü:</label>
        {{ form.work_type }}

        <label for="id_description">Açıklama:</label>
        {{ form.description }}

        <label for="id_start_date">Göreve Başlayacağı Tarih:</label>
        {{ form.start_date }}

        <label for="id_personnel_count">Alınacak Kişi Sayısı:</label>
        {{ form.personnel_count }}

        <label for="id_experience_years">Deneyim Yılı:</label>
        {{ form.experience_years }}

        <label for="id_education">Eğitim:</label>
        {{ form.education }}

        <label for="id_special_requirements">Varsa Özel Nitelikler:</label>
        {{ form.special_requirements }}

        <!-- Gönder Butonu -->
        <button type="submit">Gönder</button>
    </form>
</body>
</html>
